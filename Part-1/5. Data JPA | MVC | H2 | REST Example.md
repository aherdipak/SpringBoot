## Spring Boot Applcation( JPA | MVC | H2 Database | REST Example)

```

	@RequestMapping("/allStudent")
	@ResponseBody
	public String allStudent() {
		return stdRepo.findAll().toString();
	}
	
//	@RequestMapping("/student/102")
//	@ResponseBody
//	public String getStudent() {
//		return stdRepo.findById(102).toString();
//	}
	
	@RequestMapping("/student/{stdId}")
	@ResponseBody
	public String getStudent(@PathVariable("stdId")int stdId) {
		return stdRepo.findById(stdId).toString();
	}
```

![Screenshot 2019-07-07 at 5 27 09 PM](https://user-images.githubusercontent.com/35020560/60767965-bf0c1480-a0dc-11e9-9b15-e4a05cdbb95c.png)

![Screenshot 2019-07-07 at 5 26 53 PM](https://user-images.githubusercontent.com/35020560/60767969-d1864e00-a0dc-11e9-814d-4800a3a20953.png)


I just have one concern here, The concern is I want this data in JSON format.
Normally we share data either JSON or XML format. The data on above screen shot is not appropriate. In this case, how will another service will understand what you are sending. In this case we need to convert our response in JSON format.

So lets change some code here, In StudentRepo interface we have extended `CrudRepository` here instead of having CrudRepository lets use `JpaRepository` so that will get some extra features becouse JpaRepository is an interface extends Pagin and sortingRepository which is indirectly extended CrudRepository So we have all the features of CrudRepository + Etra features.

Ex. When I say findAll() it should return a list because in code repository it returns Interable.

#### /StudentDao.java
```
package com.dac.starter.dao;

import org.springframework.data.jpa.repository.JpaRepository;

import com.dac.starter.model.Student;

public interface StudentDao extends JpaRepository<Student, Integer>{

}

```

#### /StudentController.java
```
@Controller
public class StudentController {

	@Autowired
	StudentDao stdDao;
	
	@RequestMapping("/allStudent")
	@ResponseBody
	public List<Student> allStudent() {
		return stdDao.findAll();
	}
	

	@RequestMapping("/student/{stdId}")
	@ResponseBody
	public Optional<Student> getStudent(@PathVariable("stdId")int stdId) {
		return stdDao.findById(stdId);
	}
}
```
![Screenshot 2019-07-07 at 5 54 57 PM](https://user-images.githubusercontent.com/35020560/60772351-bfbf9d80-a112-11e9-81d3-9240083505f6.png)

![Screenshot 2019-07-07 at 5 54 08 PM](https://user-images.githubusercontent.com/35020560/60772356-d5cd5e00-a112-11e9-9e9c-e96d4ef1fd2e.png)

![Screenshot 2019-07-07 at 5 54 47 PM](https://user-images.githubusercontent.com/35020560/60772359-e5e53d80-a112-11e9-944c-2ee0fe93b33f.png)

![Screenshot 2019-07-07 at 5 54 22 PM](https://user-images.githubusercontent.com/35020560/60772362-f1386900-a112-11e9-9823-8cbadce24030.png)
